{% extends "base.html" %}

{% block title %}Chika Feldie - Weblog{% endblock %}

{% block content %}
<h2 class="caption">Weblog</h2>
<div class="main__inner">
    <div class="main__column--02">
        <article class="widget-news-all">
            <div class="wdg__inner">
                <!-- コラムリストをループで表示 -->
                {% for weblog in weblogs %}
                <div class="list-row">
                    <a href="/weblog/{{ weblog['link'] }}">
                        <div class="list-row__detail">
                            <p class="tags">
                                <span class="tags__date">{{ weblog['date'] }}</span>
                                <span class="tags__icon tags__icon--news">TOPICS</span>
                            </p>
                            <p class="weblog-title">{{ weblog['title'] }}</p>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </article>

        <!-- ページネーションリンク (中央寄せ) -->
        <nav aria-label="Page navigation" class="weblog-nav">
            <ul class="pagination d-flex justify-content-center">
                {% if page > 1 %}
                <li class="page-item">
                    <a class="page-link" href="/weblog?page={{ page - 1 }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                    </a>
                </li>
                {% endif %}

                {% for i in range(1, total_pages + 1) %}
                <li class="page-item {% if i == page %}active{% endif %}">
                    <a class="page-link" href="/weblog?page={{ i }}">{{ i }}</a>
                </li>
                {% endfor %}

                {% if page < total_pages %}
                <li class="page-item">
                    <a class="page-link" href="/weblog?page={{ page + 1 }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                    </a>
                </li>
                {% endif %}
            </ul>
        </nav>
    </div>
</div>
{% endblock %}
